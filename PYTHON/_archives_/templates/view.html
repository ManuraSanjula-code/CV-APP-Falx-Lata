<!DOCTYPE html>
<html>
<head>
    <title>CV Details</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 20px; }
        .section { margin-bottom: 30px; border-bottom: 1px solid #eee; padding-bottom: 20px; }
        .section h2 { color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 5px; }
        .back-link { display: block; margin-bottom: 20px; text-decoration: none; color: #3498db; }
        .entry { margin-bottom: 15px; }
        .entry-title { font-weight: bold; color: #2c3e50; }
        .entry-duration { color: #7f8c8d; font-style: italic; }
        .skill-category { margin-bottom: 10px; }
        .skill-tag { display: inline-block; background: #e0f7fa; padding: 3px 8px; margin: 2px; border-radius: 3px; }
    </style>
</head>
<body>
    <a href="/search" class="back-link">‚Üê Back to Search</a>
    <h1>CV Details</h1>

    <!-- Personal Information -->
    <div class="section">
        <h2>Personal Information</h2>
        {% if cv_data.personal_info %}
            <div class="entry">
                <div><strong>Name:</strong> {{ cv_data.personal_info.get('name', '') }}</div>
                <div><strong>Email:</strong> {{ cv_data.personal_info.get('email', '') }}</div>
                <div><strong>Phone:</strong> {{ cv_data.personal_info.get('phone', '') }}</div>
                <div><strong>Address:</strong> {{ cv_data.personal_info.get('address', '') }}</div>
                <div><strong>Age:</strong> {{ cv_data.personal_info.get('age', '') }}</div>
                <div><strong>Nationality:</strong> {{ cv_data.personal_info.get('nationality', '') }}</div>
                <div><strong>GitHub:</strong> <a href="{{ cv_data.personal_info.get('github', '') }}" target="_blank">{{ cv_data.personal_info.get('github', '') }}</a></div>
                <div><strong>LinkedIn:</strong> <a href="{{ cv_data.personal_info.get('linkedin', '') }}" target="_blank">{{ cv_data.personal_info.get('linkedin', '') }}</a></div>
            </div>
        {% endif %}
    </div>

    <!-- Education -->
    <div class="section">
        <h2>Education</h2>
        {% if cv_data.education %}
            {% for edu in cv_data.education %}
                <div class="entry">
                    <div class="entry-title">{{ edu.get('degree', '') }}</div>
                    <div>{{ edu.get('institution', '') }}</div>
                    <div class="entry-duration">{{ edu.get('year', '') }}</div>
                    <div>{{ edu.get('description', '') }}</div>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- Experience -->
    <div class="section">
        <h2>Experience</h2>
        {% if cv_data.experience %}
            {% for exp in cv_data.experience %}
                <div class="entry">
                    <div class="entry-title">{{ exp.get('position', '') }}</div>
                    <div>{{ exp.get('company', '') }}</div>
                    <div class="entry-duration">{{ exp.get('duration', '') }}</div>
                    <div>{{ exp.get('description', '') }}</div>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- Skills -->
    <div class="section">
        <h2>Skills</h2>
        {% if cv_data.skills %}
            {% for category, skills in cv_data.skills.items() %}
                <div class="skill-category">
                    <strong>{{ category|title }}:</strong>
                    {% for skill in skills %}
                        <span class="skill-tag">{{ skill }}</span>
                    {% endfor %}
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- Projects -->
    <div class="section">
        <h2>Projects</h2>
        {% if cv_data.projects %}
            {% for project in cv_data.projects %}
                <div class="entry">
                    <div class="entry-title">{{ project.get('name', '') }}</div>
                    <div>{{ project.get('description', '') }}</div>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- Achievements -->
    <div class="section">
        <h2>Achievements</h2>
        {% if cv_data.achievements %}
            {% for achievement in cv_data.achievements %}
                <div class="entry">
                    <div class="entry-title">{{ achievement.get('title', '') }}</div>
                    <div>{{ achievement.get('description', '') }}</div>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- Assets -->
    <div class="section">
        <h2>Key Assets</h2>
        {% if cv_data.assets %}
            {% for asset in cv_data.assets %}
                <div class="entry">
                    <div class="entry-title">{{ asset.get('type', '') }}</div>
                    <div>{{ asset.get('description', '') }}</div>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- References -->
    <div class="section">
        <h2>References</h2>
        {% if cv_data.references %}
            {% for ref in cv_data.references %}
                <div class="entry">
                    <div class="entry-title">{{ ref.get('name', '') }}</div>
                    <div>{{ ref.get('details', '') }}</div>
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- Other Information -->
    <div class="section">
        <h2>Other Information</h2>
        <p><strong>File:</strong> {{ cv_data.filename }}</p>
        <p><strong>Uploaded:</strong> {{ cv_data.upload_date }}</p>
    </div>
</body>
</html>